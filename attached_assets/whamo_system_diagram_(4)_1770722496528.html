<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WHAMO System Diagram</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .diagram-container {
            position: relative;
            width: 100%;
            height: 800px;
            background: #fafafa;
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: auto;
        }
        svg {
            width: 100%;
            height: 100%;
        }
        .node {
            cursor: pointer;
            transition: all 0.3s;
        }
        .node:hover circle {
            stroke-width: 3;
            r: 8;
        }
        .node:hover text {
            font-weight: bold;
            font-size: 13px;
        }
        .pipe {
            stroke: #3498db;
            stroke-width: 3;
            fill: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        .pipe:hover {
            stroke: #e74c3c;
            stroke-width: 4;
        }
        .dummy-pipe {
            stroke: #95a5a6;
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: none;
        }
        .reservoir {
            fill: #3498db;
            stroke: #2980b9;
            stroke-width: 2;
        }
        .surge-tank {
            fill: #f39c12;
            stroke: #e67e22;
            stroke-width: 2;
        }
        .junction {
            fill: #e74c3c;
            stroke: #c0392b;
            stroke-width: 2;
        }
        .flow-boundary {
            fill: #2ecc71;
            stroke: #27ae60;
            stroke-width: 2;
        }
        .regular-node {
            fill: #95a5a6;
            stroke: #7f8c8d;
            stroke-width: 2;
        }
        .legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 12px;
        }
        .legend-item {
            margin: 8px 0;
            display: flex;
            align-items: center;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 1px solid #333;
            border-radius: 3px;
        }
        .info-box {
            margin-top: 30px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 8px;
        }
        .info-box h2 {
            color: #2c3e50;
            margin-top: 0;
        }
        .info-box p {
            line-height: 1.6;
            color: #34495e;
        }
        .pipe-label {
            font-size: 10px;
            fill: #2c3e50;
            font-weight: bold;
        }
        .arrow {
            fill: #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŒŠ WHAMO Water Distribution System Diagram</h1>
        
        <div class="diagram-container">
            <svg viewBox="0 0 1300 750" preserveAspectRatio="xMidYMid meet">
                <!-- Define arrow marker -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" class="arrow" />
                    </marker>
                </defs>
                
                <!-- PIPES (draw first so they're behind nodes) -->
                
                <!-- Main line from reservoir -->
                <line x1="100" y1="100" x2="250" y2="100" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="175" y="90" class="pipe-label">C1</text>
                
                <!-- Junction at node 2 -->
                <line x1="250" y1="100" x2="250" y2="250" class="dummy-pipe"/>
                <text x="260" y="175" class="pipe-label">D1</text>
                
                <!-- To surge tank -->
                <line x1="250" y1="250" x2="180" y2="250" class="pipe"/>
                
                <!-- From junction 2 down -->
                <line x1="250" y1="100" x2="400" y2="200" class="dummy-pipe"/>
                <text x="325" y="150" class="pipe-label">D2</text>
                
                <!-- Upper branch -->
                <line x1="400" y1="200" x2="500" y2="200" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="450" y="190" class="pipe-label">C2</text>
                
                <line x1="500" y1="200" x2="600" y2="200" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="550" y="190" class="pipe-label">C3</text>
                
                <line x1="600" y1="200" x2="700" y2="200" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="650" y="190" class="pipe-label">C4</text>
                
                <!-- Junction at node 6 - splits into two branches -->
                <line x1="700" y1="200" x2="800" y2="150" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="750" y="170" class="pipe-label">C5</text>
                
                <line x1="800" y1="150" x2="900" y2="150" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="850" y="140" class="pipe-label">C6</text>
                
                <line x1="700" y1="200" x2="800" y2="250" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="750" y="235" class="pipe-label">C7</text>
                
                <line x1="800" y1="250" x2="900" y2="250" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="850" y="240" class="pipe-label">C8</text>
                
                <!-- Lower branch from junction 2 -->
                <line x1="250" y1="100" x2="400" y2="400" class="dummy-pipe"/>
                <text x="325" y="250" class="pipe-label">D3</text>
                
                <line x1="400" y1="400" x2="500" y2="400" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="450" y="390" class="pipe-label">C9</text>
                
                <line x1="500" y1="400" x2="600" y2="400" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="550" y="390" class="pipe-label">C10</text>
                
                <line x1="600" y1="400" x2="700" y2="400" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="650" y="390" class="pipe-label">C11</text>
                
                <!-- Junction at node 24 - splits into two branches -->
                <line x1="700" y1="400" x2="800" y2="350" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="750" y="370" class="pipe-label">C12</text>
                
                <line x1="800" y1="350" x2="900" y2="350" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="850" y="340" class="pipe-label">C13</text>
                
                <line x1="700" y1="400" x2="800" y2="450" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="750" y="435" class="pipe-label">C14</text>
                
                <line x1="800" y1="450" x2="900" y2="450" class="pipe" marker-end="url(#arrowhead)"/>
                <text x="850" y="440" class="pipe-label">C15</text>
                
                <!-- NODES -->
                
                <!-- Reservoir (Node 1) -->
                <g class="node">
                    <rect x="50" y="80" width="50" height="40" class="reservoir"/>
                    <text x="75" y="105" text-anchor="middle" fill="white" font-size="12" font-weight="bold">HW</text>
                    <text x="75" y="70" text-anchor="middle" fill="#2c3e50" font-size="11">Node 1</text>
                    <text x="75" y="135" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 4022.31</text>
                </g>
                
                <!-- Junction at Node 2 -->
                <g class="node">
                    <circle cx="250" cy="100" r="6" class="junction"/>
                    <text x="250" y="130" text-anchor="middle" fill="#2c3e50" font-size="11">Node 2</text>
                    <text x="250" y="145" text-anchor="middle" fill="#2c3e50" font-size="9">Junction</text>
                    <text x="250" y="160" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3947.44</text>
                </g>
                
                <!-- Surge Tank (Node 100) -->
                <g class="node">
                    <rect x="140" y="230" width="40" height="80" class="surge-tank"/>
                    <text x="160" y="275" text-anchor="middle" fill="white" font-size="11" font-weight="bold">ST</text>
                    <text x="160" y="320" text-anchor="middle" fill="#2c3e50" font-size="9">Node 100</text>
                </g>
                
                <!-- Upper branch nodes -->
                <g class="node">
                    <circle cx="400" cy="200" r="5" class="regular-node"/>
                    <text x="400" y="175" text-anchor="middle" fill="#2c3e50" font-size="10">Node 3</text>
                    <text x="400" y="188" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3940.78</text>
                </g>
                
                <g class="node">
                    <circle cx="500" cy="200" r="5" class="regular-node"/>
                    <text x="500" y="175" text-anchor="middle" fill="#2c3e50" font-size="10">Node 4</text>
                    <text x="500" y="188" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3891.57</text>
                </g>
                
                <g class="node">
                    <circle cx="600" cy="200" r="5" class="regular-node"/>
                    <text x="600" y="175" text-anchor="middle" fill="#2c3e50" font-size="10">Node 5</text>
                    <text x="600" y="188" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3486.88</text>
                </g>
                
                <!-- Junction at Node 6 -->
                <g class="node">
                    <circle cx="700" cy="200" r="6" class="junction"/>
                    <text x="700" y="175" text-anchor="middle" fill="#2c3e50" font-size="11">Node 6</text>
                    <text x="700" y="188" text-anchor="middle" fill="#2c3e50" font-size="9">Junction</text>
                    <text x="700" y="220" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <g class="node">
                    <circle cx="800" cy="150" r="5" class="regular-node"/>
                    <text x="800" y="130" text-anchor="middle" fill="#2c3e50" font-size="10">Node 7</text>
                    <text x="800" y="143" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <g class="node">
                    <circle cx="800" cy="250" r="5" class="regular-node"/>
                    <text x="800" y="270" text-anchor="middle" fill="#2c3e50" font-size="10">Node 8</text>
                    <text x="800" y="283" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <!-- Flow boundaries upper -->
                <g class="node">
                    <polygon points="900,140 920,150 900,160" class="flow-boundary"/>
                    <text x="950" y="150" text-anchor="start" fill="#2c3e50" font-size="11" font-weight="bold">FB1</text>
                    <text x="950" y="163" text-anchor="start" fill="#2c3e50" font-size="9">Node 51</text>
                    <text x="950" y="176" text-anchor="start" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <g class="node">
                    <polygon points="900,240 920,250 900,260" class="flow-boundary"/>
                    <text x="950" y="250" text-anchor="start" fill="#2c3e50" font-size="11" font-weight="bold">FB2</text>
                    <text x="950" y="263" text-anchor="start" fill="#2c3e50" font-size="9">Node 52</text>
                    <text x="950" y="276" text-anchor="start" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <!-- Lower branch nodes -->
                <g class="node">
                    <circle cx="400" cy="400" r="5" class="regular-node"/>
                    <text x="400" y="375" text-anchor="middle" fill="#2c3e50" font-size="10">Node 21</text>
                    <text x="400" y="388" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3940.78</text>
                </g>
                
                <g class="node">
                    <circle cx="500" cy="400" r="5" class="regular-node"/>
                    <text x="500" y="375" text-anchor="middle" fill="#2c3e50" font-size="10">Node 22</text>
                    <text x="500" y="388" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3891.57</text>
                </g>
                
                <g class="node">
                    <circle cx="600" cy="400" r="5" class="regular-node"/>
                    <text x="600" y="375" text-anchor="middle" fill="#2c3e50" font-size="10">Node 23</text>
                    <text x="600" y="388" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3486.88</text>
                </g>
                
                <!-- Junction at Node 24 -->
                <g class="node">
                    <circle cx="700" cy="400" r="6" class="junction"/>
                    <text x="700" y="375" text-anchor="middle" fill="#2c3e50" font-size="11">Node 24</text>
                    <text x="700" y="388" text-anchor="middle" fill="#2c3e50" font-size="9">Junction</text>
                    <text x="700" y="420" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <g class="node">
                    <circle cx="800" cy="350" r="5" class="regular-node"/>
                    <text x="800" y="330" text-anchor="middle" fill="#2c3e50" font-size="10">Node 25</text>
                    <text x="800" y="343" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <g class="node">
                    <circle cx="800" cy="450" r="5" class="regular-node"/>
                    <text x="800" y="470" text-anchor="middle" fill="#2c3e50" font-size="10">Node 26</text>
                    <text x="800" y="483" text-anchor="middle" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <!-- Flow boundaries lower -->
                <g class="node">
                    <polygon points="900,340 920,350 900,360" class="flow-boundary"/>
                    <text x="950" y="350" text-anchor="start" fill="#2c3e50" font-size="11" font-weight="bold">FB3</text>
                    <text x="950" y="363" text-anchor="start" fill="#2c3e50" font-size="9">Node 53</text>
                    <text x="950" y="376" text-anchor="start" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <g class="node">
                    <polygon points="900,440 920,450 900,460" class="flow-boundary"/>
                    <text x="950" y="450" text-anchor="start" fill="#2c3e50" font-size="11" font-weight="bold">FB4</text>
                    <text x="950" y="463" text-anchor="start" fill="#2c3e50" font-size="9">Node 54</text>
                    <text x="950" y="476" text-anchor="start" fill="#2c3e50" font-size="9">Elev: 3437.66</text>
                </g>
                
                <!-- Legend -->
                <g transform="translate(50, 550)">
                    <rect x="0" y="0" width="220" height="180" fill="white" stroke="#ddd" stroke-width="2" rx="8"/>
                    <text x="110" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#2c3e50">Legend</text>
                    
                    <rect x="15" y="40" width="20" height="20" class="reservoir"/>
                    <text x="45" y="55" font-size="12" fill="#2c3e50">Reservoir (HW)</text>
                    
                    <rect x="15" y="70" width="20" height="20" class="surge-tank"/>
                    <text x="45" y="85" font-size="12" fill="#2c3e50">Surge Tank (ST)</text>
                    
                    <circle cx="25" cy="110" r="6" class="junction"/>
                    <text x="45" y="115" font-size="12" fill="#2c3e50">Junction</text>
                    
                    <polygon points="15,130 35,140 15,150" class="flow-boundary"/>
                    <text x="45" y="145" font-size="12" fill="#2c3e50">Flow Boundary</text>
                    
                    <line x1="15" y1="170" x2="35" y2="170" class="pipe" stroke-width="3"/>
                    <text x="45" y="175" font-size="12" fill="#2c3e50">Conduit (Pipe)</text>
                </g>
                
                <!-- Info box -->
                <g transform="translate(300, 550)">
                    <rect x="0" y="0" width="450" height="180" fill="white" stroke="#ddd" stroke-width="2" rx="8"/>
                    <text x="225" y="25" text-anchor="middle" font-size="14" font-weight="bold" fill="#2c3e50">System Overview</text>
                    
                    <text x="15" y="50" font-size="11" fill="#2c3e50">â€¢ Water flows from Reservoir (HW) through pipe C1</text>
                    <text x="15" y="70" font-size="11" fill="#2c3e50">â€¢ At Node 2: 3-way junction splits flow</text>
                    <text x="15" y="90" font-size="11" fill="#2c3e50">â€¢ Surge Tank (ST) protects against pressure surges</text>
                    <text x="15" y="110" font-size="11" fill="#2c3e50">â€¢ Two parallel distribution branches serve 4 endpoints</text>
                    <text x="15" y="130" font-size="11" fill="#2c3e50">â€¢ All valves close at t=20 seconds (water hammer event)</text>
                    <text x="15" y="150" font-size="11" fill="#2c3e50">â€¢ Dashed lines = Dummy pipes (represent fittings/valves)</text>
                    <text x="15" y="170" font-size="11" fill="#2c3e50">â€¢ Simulation runs for 500 seconds</text>
                </g>
            </svg>
        </div>
        
        <div class="info-box">
            <h2>ðŸ“Š Key System Characteristics</h2>
            <p><strong>Total Pipes:</strong> 15 conduits (C1-C15) + 3 dummy pipes (D1-D3)</p>
            <p><strong>Elevation Range:</strong> 3437.66 ft (lowest nodes) to 4215.88 ft (surge tank top)</p>
            <p><strong>Initial Flow:</strong> 3000 GPM at each of 4 delivery points (12,000 GPM total)</p>
            <p><strong>Critical Event:</strong> All valves suddenly close at 20 seconds, creating a water hammer scenario</p>
            <p><strong>Protection:</strong> Surge tank absorbs pressure waves to prevent pipe damage</p>
            <p><strong>Computation:</strong> Calculations every 0.01 seconds, outputs saved every 0.1 seconds</p>
        </div>
    </div>
</body>
</html>